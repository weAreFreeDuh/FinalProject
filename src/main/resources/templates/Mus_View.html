<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SolMusic | HTML Template</title>
    <meta charset="UTF-8">
    <meta name="description" content="SolMusic HTML Template">
    <meta name="keywords" content="music, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="shortcut icon"/>

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="css/main/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="css/main/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="css/main/bootstrap.css">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="css/main/flexslider.css">
    <!-- Flaticons  -->
    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">
    <!-- Owl Carousel -->
    <link rel="stylesheet" href="css/main/owl.carousel.min.css">
    <link rel="stylesheet" href="css/main/owl.theme.default.min.css">
    <!-- Theme style  -->
    <link rel="stylesheet" href="css/main/style.css">

    <link rel="stylesheet" href="css/header.css">

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- script
    ================================================== -->
    <script src="js/modernizr.js"></script>

    <!-- Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/music/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/music/font-awesome.min.css"/>
    <link rel="stylesheet" href="css/music/owl.carousel.min.css"/>
    <link rel="stylesheet" href="css/music/slicknav.min.css"/>

    <!-- Main Stylesheets -->
    <link rel="stylesheet" href="css/music/style.css"/>
    <link rel="stylesheet" href="css/modal.css">


    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://kit.fontawesome.com/8591377d67.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://kit.fontawesome.com/8591377d67.css" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap');
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        h1, h2, h3, h4, h5, h6, span, p, a, label, input, textarea, button {
            font-family: 'Gowun Dodum', sans-serif !important;
            font-size: large !important;
            letter-spacing: 0rem; !important;
        }
    </style>

</head>
<style th:replace="mouse.html :: style"></style>
<body>
<!-- Page Preloder -->
<div id="preloder">
    <div class="loader"></div>
</div>

<div id="colorlib-page">
    <a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>

    <header th:replace="sider.html :: header"></header>

    <section class="player-section set-bg" data-setbg="img/player-bg.jpg" >
        <div class="player-box" style="
    margin-left: 300px;" th:each="list : ${workspace}">
            <div class="tarck-thumb-warp">
                <div class="tarck-thumb">
                    <!--Ïù¥ÎØ∏ÏßÄ ÎÑ£Í∏∞-->
                    <img th:src="@{/junho/workSpaceImg/{workImgName}(workImgName=${list.workImgName})}" alt="">
                    </div>
            </div>
            <div class="wave-player-warp">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="wave-player-info">
                            <h1>[[${list.workTitle}]]</h1>
                            <p><span><span id="innerTable"></span></span></p>
                            <p> ÏÑ§Î™Ö  : [[${workspace.workIntro}]]</p>
                            <p>üíì : [[${list.likeNum}]] üí¨ : [[${list.comentNum}]] üë§ : [[${list.HitNum}]] üìí : [[${list.BoardNum}]] </p>
                            <p>ÏûëÏÑ±Ïûê : [[${list.memName}]]</p>

                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="songs-links">
                            <block th:if="${session.login ne null && session.login.memCode eq workspace.workMemCode}">
                                <button th:onclick="|location.href='@{WOR5(workCode=${workspace.workCode})}'|" class="btn btn-light-green" style="background-color: #000000; color: #FFFFFF !important;">ÏàòÏ†ï</button>
                                <button th:onclick="|location.href='@{WOR8(workCode=${workspace.workCode})}'|" class="btn btn-light-green" style="background-color: #000000; color: #FFFFFF !important;">ÏÇ≠Ï†ú</button>
                            </block>
                        </div>
                    </div>
                </div>
                <div id="wavePlayer" class="clierfix">
                    <div id="audiowave" data-waveurl="music-files/8.mp3"></div>
                    <div id="currentTime"></div>
                    <div id="clipTime"></div>
                    <!-- Player Controls -->
                    <!-- song -->



                </div>
            </div>
        </div>
    </section>

    <div id="colorlib-main">

        <!-- Songs section  -->
        <section class="songs-section">
            <div class="container">
                <!-- song -->
                <!--DDAN Î¶¨Ïä§Ìä∏-->


                <block th:if="${boardList ne null}">
                    <div class="song-item" th:each="list , stat : ${boardList}">
                        <div class="row" style="margin-top: 50px;" >
                            <div class="col-lg-4">

                                <div class="song-info-box">
                                    <a th:href="@{DRA004(boaCode=${list.boaCode})}"><img th:src="@{/PSW/bestimg/{boaBestImg}(boaBestImg=${list.boaBestImg})}" alt=""></a>
                                    <div class="song-info">
                                        <h4>[[${list.memName}]]</h4>
                                        <p>[[${list.memGrade}]]</p>
                                        <p><span style="display: flex" th:text="${list.boaTag}" class="reTag"></span></p>
                                        <span th:id="asd+|${stat.index}|">[[asd+|${stat.index}|]]</span>
                                        <p>Ï¢ãÏïÑÏöî Ïàò : [[${list.likeNum}]]</p>
                                        <p>ÎåìÍ∏Ä Ïàò : [[${list.comentNum}]]</p>
                                        <block th:if="${session.login ne null && session.login.memCode eq workspace.workMemCode}">
                                        </block>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="single_player_container">
                                    <div class="single_player">
                                        <div class="jp-jplayer jplayer" th:data-ancestor=".jp_container_+|${stat.index}|" th:data-url="@{/PSW/mp3/{boaFileName}(boaFileName=${list.boaFileName})}"></div>
                                        <div class="jp-audio " th:classappend="jp_container_+|${stat.index}|" role="application" aria-label="media player">
                                            <div class="jp-gui jp-interface">

                                                <!-- Player Controls -->
                                                <div class="player_controls_box">
                                                    <button class="jp-prev player_button" tabindex="0"></button>
                                                    <!--ÏùåÏïÖ Ïû¨ÏÉù Î≤ÑÌäº-->
                                                    <button class="jp-play player_button" tabindex="0" id="test" th:onclick="test([[${list.boaCode}]])" ></button>

                                                    <button class="jp-next player_button" tabindex="0"></button>
                                                    <button class="jp-stop player_button" tabindex="0"></button>
                                                </div>
                                                <!-- Progress Bar -->
                                                <div class="player_bars">
                                                    <div class="jp-progress">
                                                        <div class="jp-seek-bar">
                                                            <div>
                                                                <div class="jp-play-bar"><div class="jp-current-time" role="timer" aria-label="time">0:00</div></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="jp-duration ml-auto" role="timer" aria-label="duration">00:00</div>
                                                </div>
                                            </div>
                                            <div class="jp-no-solution">
                                                <span>Update Required</span>
                                                To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="songs-links">
                                    <a href=""><img src="img/icons/p-1.png" alt=""></a>
                                    <a href=""><img src="img/icons/p-2.png" alt=""></a>
                                    <a href=""><img src="img/icons/p-3.png" alt=""></a>
                                    <p><a
                                            th:onclick="|location.href='@{WOR7(boaCode=${list.boaCode}, workCode = ${workspace.workCode})}'|"
                                            style="float: right"><i class="icon-reply2">Ï†úÍ±∞</i></a></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--<select id="order" onchange="orderby(this.value)">
                        <option>Ï†ïÎ†¨</option>
                        <option value="boaCode">ÏµúÏã†Ïàú</option>
                        <option value="likeNum">Ï¢ãÏïÑÏöî Ïàú</option>
                        <option  value="boaHit">Ï°∞ÌöåÏàò Ïàú</option>
                    </select>-->

                    <div>
                        <div class="col-md-12 animate-box" data-animate-effect="fadeInLeft">
                            <ul class="pagination">
                                <li th:if="${paging.page <= 1}"><a>&laquo;</a></li>
                                <li th:if="${paging.page > 1}">
                                    <a th:href="@{WOR4(page=${paging.page -1} , limit=${paging.limit}, workCode=${paging.workCode})}">&laquo;</a>
                                </li>
                                &nbsp;
                                <!-- [ÌéòÏù¥ÏßÄ Î≤àÌò∏] ÌéòÏù¥ÏßÄÏóê ÎåÄÌïú Ï≤òÎ¶¨ -->
                                <li th:each="i : ${#numbers.sequence(paging.startpage, paging.endpage)}">
                                    <a th:href="@{WOR4(page=${i} , limit=${paging.limit} ,workCode=${paging.workCode})}">
                                                <span th:if="${paging.page == i}">
                                                    [[${i}]]
                                                </span>
                                                <span th:unless="${paging.page == i}">
                                                    [[${i}]]
                                                </span></a>
                                </li>
                                <!-- [Îã§Ïùå] ÌéòÏù¥ÏßÄÏóê ÎåÄÌïú Ï≤òÎ¶¨ -->
                                &nbsp;
                                <li th:if="${paging.page >= paging.maxpage}"><a>&raquo;</a></li>
                                <li th:if="${paging.page < paging.maxpage}">
                                    <a th:href="@{WOR4(page=${paging.page +1}, limit=${paging.limit}, workCode=${paging.workCode})}">[Îã§Ïùå]</a>
                                </li>
                </block>
                </ul>
            </div>
    </div>
</div>
</div>

</section>
</div>
</div>
<!-- Songs section end -->
<!--DDAN ÏÑúÎ∏åÏπ¥ÌÖåÍ≥†Î¶¨ Í∞ÄÏ†∏Ïò§Í∏∞-->
<!--<script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>-->
<!--script src="js/modal.js"></script>-->





<!--====== Javascripts & Jquery ======-->
<script src="js/music/jquery-3.2.1.min.js"></script>
<script src="js/music/bootstrap.min.js"></script>
<script src="js/music/jquery.slicknav.min.js"></script>
<script src="js/music/owl.carousel.min.js"></script>
<script src="js/music/mixitup.min.js"></script>
<script src="js/music/main.js"></script>

<!-- Audio Player and Initialization -->
<script src="js/music/jquery.jplayer.min.js"></script>
<script src="js/music/jplayerInit.js"></script>

<!-- jQuery -->
<script src="js/jquery.min.js"></script>
<!-- jQuery Easing -->
<!--<script src="js/jquery.easing.1.3.js"></script>-->
<!-- Bootstrap -->
<script src="js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="js/jquery.waypoints.min.js"></script>
<!-- Flexslider -->
<script src="js/jquery.flexslider-min.js"></script>
<!-- Sticky Kit -->
<script src="js/sticky-kit.min.js"></script>
<!-- Owl carousel -->
<script src="js/owl.carousel.min.js"></script>
<!-- Counters -->
<script src="js/jquery.countTo.js"></script>


<!-- MAIN JS -->
<script src="js/main.js"></script>

<script>
    let retag = $('.reTag');

    for (let i = 0; i <   retag.length; i++) {
        let tagArr = $(retag[i]).text().split(",")
        let input = "";

        for ( j in tagArr){
            //console.log(tagArr[j]);
            input += "<a href='UnifiedSearch?q="+tagArr[j].replace('#','%23')+"'>"+tagArr[j]+"</a>"+"<br/>";
        }
        $(retag[i]).html(input);
    }

    let tags = "[[${workspace.workTag}]]";
    tags = tags.split(",");
    console.log(tags)
    let arr = [];

    console.log(tags.length);
    for (j = 0; j < tags.length; j++) {

        tagShow(tags[j].replace("#", ""));
    }

    /*ÌÉúÍ∑∏ ÎàÑÎ•º Ïãú ÏûÖÎ†•*/
    function tagShow(tag) {
        /* htmlÏóê Î≥¥Ïó¨Ï£ºÍ∏∞ ÏúÑÌïú ÎÇ¥Ïö©*/
        let output = "";

        /*ÌÉúÍ∑∏Ïóê ÏûÖÎ†•Ìïú Í∞í Î¶¨Ïä§Ìä∏Ïóê ÎÑ£Í∏∞*/
        arr.push("#" + tag);
        console.log("Î¶¨Ïä§Ìä∏ Í∞í" + arr);
        console.log(tag);

        /*Î¶¨Ïä§Ìä∏ html Ï∂úÎ†• Ïπ∏*/
        for (i = 0; i < arr.length; i++) {
            output += ""
            output += "<div id='test" + i + "'><a href='UnifiedSearch?q=" + arr[i].replace('#', '%23') + "'>" + arr[i];
            output += "</a></div>"
        }
        /*html ÏÇΩÏûÖÎ™ÖÎ†πÎ¨∏*/
        document.getElementById("innerTable").innerHTML = output;

        /*inputWork();*/
    }

   /* let tags = "[[${workspace.workTag}]]"
    tags = tags.split(",");
    console.log(tags)
    let arr = [];

    console.log(tags.length);
    for (j = 0; j < tags.length; j++) {

        tagShow(tags[j].replace("#", ""));
    }

    /!*ÌÉúÍ∑∏ ÎàÑÎ•º Ïãú ÏûÖÎ†•*!/
    function tagShow(tag) {
        /!* htmlÏóê Î≥¥Ïó¨Ï£ºÍ∏∞ ÏúÑÌïú ÎÇ¥Ïö©*!/
        let output = "";

        /!*ÌÉúÍ∑∏Ïóê ÏûÖÎ†•Ìïú Í∞í Î¶¨Ïä§Ìä∏Ïóê ÎÑ£Í∏∞*!/
        arr.push("#" + tag);
        console.log("Î¶¨Ïä§Ìä∏ Í∞í" + arr);
        console.log(tag);

        /!*Î¶¨Ïä§Ìä∏ html Ï∂úÎ†• Ïπ∏*!/
        for (i = 0; i < arr.length; i++) {
            output += ""
            output += "<div id='test" + i + "'><a href='UnifiedSearch?q=" + arr[i].replace('#', '%23') + "'>" + arr[i];
            output += "</a></div>"
        }
        /!*html ÏÇΩÏûÖÎ™ÖÎ†πÎ¨∏*!/
        document.getElementById("innerTable").innerHTML = output;

        /!*inputWork();*!/
    }*/
    console.log("Ïù¥Í±∞ ÎêòÎäîÍ±∞ ÎßûÏùå?")
</script>

<!--Î°úÍ∑∏Ïù∏ Ìï†Ïãú onclickÍ∏∞Îä• Ï∂îÍ∞Ä-->
<script th:if="${session.login ne null}">


    /*/!*ÏùåÏïÖÏùÑ Ïã§ÌñâÏãú ÌûàÏä§ÌÜ†Î¶¨ Îç∞Ïù¥ÌÑ∞Ïóê ÎÑ£Ïñ¥Ï£ºÍ∏∞*!/
    var element = document.getElementById("test");
    element.onclick = function() {
        console.log("onclickÍ∏∞Îä• Ïã§ÌòÑ");
        let memCode = [[${session.login.memCode}]];

    }*/


    /*ÏùåÏïÖ Ïã§ÌñâÏãú ÌûàÏä§ÌÜ†Î¶¨ Îç∞Ïù¥ÌÑ∞ ÎÑ£Ïñ¥Ï£ºÍ∏∞*/
    function test(Code){
        console.log("ÌûàÏä§ÌÜ†Î¶¨ Îç∞Ïù¥ÌÑ∞ ÏΩòÏÜîÏã§Ìñâ");
        let boaCode = Code;
        let memCode = [[${session.login.memCode}]];

        $.ajax({
            type: 'post',
            url : 'ajaxMusHistroyInput',
            data:{
                "bhBoaCode" : boaCode,
                "bhMemCode" : memCode
            },
            dataType: "text",
            success:
                function(result){
                    if(result=="OK"){
                        console.log("ÌûàÏä§ÌÜ†Î¶¨ ÎÑ£Í∏∞ ÏÑ±Í≥µ");
                    }else {
                        console.log("ÌûàÏä§ÌÜ†Î¶¨ ÎÑ£Í∏∞ Ïã§Ìå® ÎßûÏïÑ?");
                    }
                },
            error:function (){
                alert('ÏùëÏï† Ïã§Ìå®');
            }
        })


    }

</script>

</body>


</html>
